{
  "name": "Testing the Node server with fetch",
  "givens": [
    {
      "name": "AnEmptyState",
      "whens": [],
      "thens": [
        {
          "name": "TheStatusIs: some great status"
        }
      ]
    },
    {
      "name": "AnEmptyState",
      "whens": [
        {
          "name": "PostToStatus: hello"
        }
      ],
      "thens": [
        {
          "name": "TheStatusIs: hello"
        }
      ]
    },
    {
      "name": "AnEmptyState",
      "whens": [
        {
          "name": "PostToStatus: hello",
          "error": true
        },
        {
          "name": "PostToStatus: aloha"
        }
      ],
      "thens": [
        {
          "name": "TheStatusIs: aloha"
        }
      ],
      "errors": {
        "cause": {
          "errno": -54,
          "code": "ECONNRESET",
          "syscall": "read"
        }
      }
    },
    {
      "name": "AnEmptyState",
      "whens": [],
      "thens": [
        {
          "name": "TheNumberIs: 0"
        }
      ]
    },
    {
      "name": "AnEmptyState",
      "whens": [
        {
          "name": "PostToAdd: 1"
        },
        {
          "name": "PostToAdd: 2"
        }
      ],
      "thens": [
        {
          "name": "TheNumberIs: 3"
        }
      ]
    },
    {
      "name": "AnEmptyState",
      "whens": [
        {
          "name": "PostToStatus: aloha"
        },
        {
          "name": "PostToAdd: 4"
        },
        {
          "name": "PostToStatus: hello"
        },
        {
          "name": "PostToAdd: 3"
        }
      ],
      "thens": [
        {
          "name": "TheStatusIs: hello"
        },
        {
          "name": "TheNumberIs: 7"
        }
      ]
    }
  ],
  "fails": [
    {
      "artifactSaver": {},
      "name": "AnEmptyState",
      "features": [
        {
          "name": "hello"
        }
      ],
      "whens": [
        {
          "name": "PostToStatus: hello",
          "error": true
        },
        {
          "name": "PostToStatus: aloha"
        }
      ],
      "thens": [
        {
          "name": "TheStatusIs: aloha"
        }
      ],
      "testArtifacts": {},
      "initialValues": {},
      "store": {
        "requestTimeout": 300000,
        "headersTimeout": 60000,
        "keepAliveTimeout": 5000,
        "connectionsCheckingInterval": 30000,
        "_events": {},
        "_eventsCount": 2,
        "_connections": 0,
        "_handle": null,
        "_usingWorkers": false,
        "_workers": [],
        "_unref": false,
        "allowHalfOpen": true,
        "pauseOnConnect": false,
        "noDelay": true,
        "keepAlive": false,
        "keepAliveInitialDelay": 0,
        "httpAllowHalfOpen": false,
        "timeout": 0,
        "maxHeadersCount": null,
        "maxRequestsPerSocket": 0,
        "_connectionKey": "6::::3001"
      },
      "error": {
        "cause": {
          "errno": -54,
          "code": "ECONNRESET",
          "syscall": "read"
        }
      }
    }
  ]
}